{
  "type_label": "kodate",
  "dataset_version": "0011_no_duplicate_unit_id",
  "experiment_name": "0013_no_duplicate_unit_id",
  "description": "0012_inverse_weights_unit_bucket と同条件で unit_id 重複排除データを使用",
  "created_at": "2026-01-06T01:12:38.453576+00:00",
  "folds": 5,
  "random_state": 42,
  "features": [
    "building_structure",
    "total_floor_area",
    "floor_count",
    "year_built",
    "years_old",
    "building_land_area",
    "land_area_all",
    "building_land_chimoku",
    "land_youto",
    "land_toshi",
    "land_kenpei",
    "land_youseki",
    "land_road_cond",
    "balcony_area",
    "room_count",
    "unit_area",
    "floor_plan_code",
    "flg_investment",
    "post1",
    "post_all",
    "addr1_1",
    "addr_all",
    "walk_distance1",
    "walk_distance2",
    "house_area",
    "madori_number_all",
    "madori_kind_all",
    "genkyo_code",
    "usable_status",
    "koji_price",
    "koji_usage_code",
    "koji_distance_km",
    "land_price",
    "land_usage_code",
    "land_distance_km",
    "mesh_population_2025",
    "mesh_population_2035",
    "mesh_population_2045",
    "mesh_population_2055",
    "unit_tag_230401",
    "unit_tag_223101",
    "unit_tag_230203",
    "unit_tag_290101",
    "unit_tag_230501",
    "unit_tag_250301",
    "unit_tag_230601",
    "unit_tag_230103",
    "unit_tag_290601",
    "unit_tag_240201",
    "unit_tag_220901",
    "unit_tag_290501",
    "unit_tag_223201",
    "unit_tag_230202",
    "unit_tag_340401",
    "building_tag_340301",
    "building_tag_210401",
    "building_tag_294201",
    "building_tag_334101",
    "building_tag_334201",
    "building_tag_334001"
  ],
  "metrics": {
    "overall": {
      "mape": 0.20334481375699406,
      "mae": 4565834.072519964,
      "rmse": 7851443.159592949
    },
    "folds": [
      {
        "fold": 1,
        "rows_train": 84884,
        "rows_valid": 21221,
        "best_iteration": 583,
        "mape": 0.20436339114551347,
        "mae": 4616606.223207634,
        "rmse": 8109069.568854987,
        "train_time_sec": 11.51287149998825
      },
      {
        "fold": 2,
        "rows_train": 84884,
        "rows_valid": 21221,
        "best_iteration": 402,
        "mape": 0.20535724563463736,
        "mae": 4591356.931651344,
        "rmse": 7917932.370887284,
        "train_time_sec": 9.036154624976916
      },
      {
        "fold": 3,
        "rows_train": 84884,
        "rows_valid": 21221,
        "best_iteration": 235,
        "mape": 0.20213150899921395,
        "mae": 4485682.021637351,
        "rmse": 7546344.690888428,
        "train_time_sec": 6.63755049998872
      },
      {
        "fold": 4,
        "rows_train": 84884,
        "rows_valid": 21221,
        "best_iteration": 731,
        "mape": 0.2035917709600585,
        "mae": 4553766.391375562,
        "rmse": 7745703.423317114,
        "train_time_sec": 11.23748829201213
      },
      {
        "fold": 5,
        "rows_train": 84884,
        "rows_valid": 21221,
        "best_iteration": 391,
        "mape": 0.20128015204554683,
        "mae": 4581758.794727929,
        "rmse": 7926657.329759711,
        "train_time_sec": 7.293699707981432
      }
    ]
  },
  "artifacts": {
    "metrics": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/reports/metrics.json",
    "oof_predictions": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/predictions/oof_predictions.parquet",
    "test_predictions": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/predictions/test_predictions.parquet",
    "feature_importance": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/reports/feature_importance.csv",
    "feature_importance_by_fold": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/reports/feature_importance_by_fold.csv",
    "plots": {
      "oof_scatter": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/plots/oof_scatter.png",
      "oof_scatter_loglog": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/plots/oof_scatter_loglog.png",
      "residual_hist": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/plots/residual_hist.png",
      "fold_mape": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/plots/fold_mape.png",
      "feature_importance": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/plots/feature_importance.png"
    },
    "models": [
      "experiments/kodate/0013_no_duplicate_unit_id/artifacts/models/fold_1.txt",
      "experiments/kodate/0013_no_duplicate_unit_id/artifacts/models/fold_2.txt",
      "experiments/kodate/0013_no_duplicate_unit_id/artifacts/models/fold_3.txt",
      "experiments/kodate/0013_no_duplicate_unit_id/artifacts/models/fold_4.txt",
      "experiments/kodate/0013_no_duplicate_unit_id/artifacts/models/fold_5.txt"
    ],
    "bucket_analysis": {
      "metrics_csv": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/reports/unit_overlap_bucket_metrics.csv",
      "metrics_json": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/reports/unit_overlap_bucket_metrics.json",
      "train_assignments": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/reports/unit_overlap_train_assignments.parquet",
      "test_assignments": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/reports/unit_overlap_test_assignments.parquet",
      "summary": [
        {
          "bucket_key": "unit_ge3",
          "label": "unit_id 被り 3件以上",
          "data_id_count": 5911,
          "ratio": 0.055708967532161535,
          "mape": 0.2162849679667354
        },
        {
          "bucket_key": "unit_2",
          "label": "unit_id 被り 2件",
          "data_id_count": 7707,
          "ratio": 0.07263559681447623,
          "mape": 0.20504064754326803
        },
        {
          "bucket_key": "unit_1",
          "label": "unit_id 被り 1件",
          "data_id_count": 21262,
          "ratio": 0.2003864096885161,
          "mape": 0.2004348903990138
        },
        {
          "bucket_key": "unit_0",
          "label": "unit_id 被り 0件",
          "data_id_count": 71225,
          "ratio": 0.6712690259648462,
          "mape": 0.202956070308946
        }
      ]
    },
    "pre_dedup_overlap_metrics": {
      "metrics_csv": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/reports/pre_dedup_unit_overlap_metrics.csv",
      "metrics_json": "experiments/kodate/0013_no_duplicate_unit_id/artifacts/reports/pre_dedup_unit_overlap_metrics.json",
      "summary": [
        {
          "bucket_key": "0",
          "label": "unit_id被り0件",
          "data_id_count": 71225,
          "ratio": 0.6712690259648462,
          "mape": 0.202956070308946
        },
        {
          "bucket_key": "1",
          "label": "unit_id被り1件",
          "data_id_count": 21262,
          "ratio": 0.2003864096885161,
          "mape": 0.2004348903990138
        },
        {
          "bucket_key": "2",
          "label": "unit_id被り2件",
          "data_id_count": 7707,
          "ratio": 0.07263559681447623,
          "mape": 0.20504064754326803
        },
        {
          "bucket_key": "3",
          "label": "unit_id被り3件",
          "data_id_count": 3144,
          "ratio": 0.02963102587059988,
          "mape": 0.2114174047091453
        },
        {
          "bucket_key": "4+",
          "label": "unit_id被り4件以上",
          "data_id_count": 2767,
          "ratio": 0.02607794166156166,
          "mape": 0.22181573012136618
        }
      ]
    }
  },
  "paths": {
    "experiment_dir": "experiments/kodate/0013_no_duplicate_unit_id",
    "dataset_dir": "data/processed/0001_kodate/0011_no_duplicate_unit_id"
  },
  "config": {
    "type_label": "kodate",
    "dataset_version": "0011_no_duplicate_unit_id",
    "experiment_name": "0013_no_duplicate_unit_id",
    "description": "0012_inverse_weights_unit_bucket と同条件で unit_id 重複排除データを使用",
    "folds": 5,
    "random_state": 42,
    "num_boost_round": 16000,
    "early_stopping_rounds": 200,
    "lightgbm_params": {
      "objective": "regression",
      "metric": "l2",
      "learning_rate": 0.1,
      "num_leaves": 63,
      "max_depth": -1,
      "feature_fraction": 0.9,
      "bagging_fraction": 0.9,
      "bagging_freq": 1,
      "min_data_in_leaf": 40,
      "lambda_l1": 0.0,
      "lambda_l2": 0.0,
      "seed": 42,
      "verbosity": -1
    },
    "target_column": "money_room",
    "id_column": "data_id",
    "feature_columns": [
      "building_structure",
      "total_floor_area",
      "floor_count",
      "year_built",
      "years_old",
      "building_land_area",
      "land_area_all",
      "building_land_chimoku",
      "land_youto",
      "land_toshi",
      "land_kenpei",
      "land_youseki",
      "land_road_cond",
      "balcony_area",
      "room_count",
      "unit_area",
      "floor_plan_code",
      "flg_investment",
      "post1",
      "post_all",
      "addr1_1",
      "addr_all",
      "walk_distance1",
      "walk_distance2",
      "house_area",
      "madori_number_all",
      "madori_kind_all",
      "genkyo_code",
      "usable_status",
      "koji_price",
      "koji_usage_code",
      "koji_distance_km",
      "land_price",
      "land_usage_code",
      "land_distance_km",
      "mesh_population_2025",
      "mesh_population_2035",
      "mesh_population_2045",
      "mesh_population_2055",
      "unit_tag_230401",
      "unit_tag_223101",
      "unit_tag_230203",
      "unit_tag_290101",
      "unit_tag_230501",
      "unit_tag_250301",
      "unit_tag_230601",
      "unit_tag_230103",
      "unit_tag_290601",
      "unit_tag_240201",
      "unit_tag_220901",
      "unit_tag_290501",
      "unit_tag_223201",
      "unit_tag_230202",
      "unit_tag_340401",
      "building_tag_340301",
      "building_tag_210401",
      "building_tag_294201",
      "building_tag_334101",
      "building_tag_334201",
      "building_tag_334001"
    ],
    "categorical_features": [
      "building_structure",
      "building_land_chimoku",
      "land_youto",
      "land_toshi",
      "land_road_cond",
      "floor_plan_code",
      "flg_investment",
      "post1",
      "post_all",
      "addr1_1",
      "addr_all",
      "madori_kind_all",
      "genkyo_code",
      "usable_status",
      "koji_usage_code",
      "land_usage_code"
    ],
    "progress_period": 400,
    "log_target": true,
    "group_column": null,
    "weight_strategy": "inverse_log_target",
    "bucket_analysis": {
      "unit_column": "unit_id",
      "building_column": null,
      "output_prefix": "unit_overlap",
      "use_building": false
    }
  }
}